{"ast":null,"code":"import _slicedToArray from\"/Users/kamei/Desktop/Programs/Blockchain Project/KUChat/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import NavBar from\"../parts/NavBar\";import TransactionTable from\"../parts/TransactionTable\";import{QRCodeSVG}from\"qrcode.react\";import getBalanceOfAddress from\"../../js/getBalance\";import getTransactionsOfAddress from\"../../js/getTransactions\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WalletPage=function WalletPage(props){var blockchain=props.blockchain;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),address=_useState2[0],setMessage=_useState2[1];useEffect(function(){fetch(\"/get-address\").then(function(res){return res.json();}).then(function(data){return setMessage(data.public);});},[]);useEffect(function(){document.title=\"KUChat | Wallet\";});var balance=0;var transactions=[];balance=getBalanceOfAddress(blockchain,address);transactions=getTransactionsOfAddress(blockchain,address);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"main\",{children:address?/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card address-info\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-header text-truncate\",children:[\"Your Info\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",style:{},\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"QR code\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[/*#__PURE__*/_jsxs(\"strong\",{style:{fontSize:\"large\"},children:[address===\"System\"?/*#__PURE__*/_jsx(_Fragment,{children:\"Supply:\"}):/*#__PURE__*/_jsx(_Fragment,{children:\"Balance:\"}),balance]}),\"KUC\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[/*#__PURE__*/_jsx(\"strong\",{style:{fontSize:\"large\"},children:\"Address:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"text-truncate\",children:address})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:/*#__PURE__*/_jsx(\"strong\",{style:{fontSize:\"large\"},children:\"Transactions:\"})}),/*#__PURE__*/_jsx(TransactionTable,{transactions:transactions})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"QR code\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(QRCodeSVG,{value:address})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"})})]})})})]}):/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Please sign in or sign up.\"}),/*#__PURE__*/_jsx(Link,{to:\"/signin\",className:\"btn btn-lg btn-primary mt-5\",children:\"Sign in / Sign up\"})]})})]});};export default WalletPage;","map":{"version":3,"sources":["/Users/kamei/Desktop/Programs/Blockchain Project/KUChat/frontend/src/components/pages/WalletPage.jsx"],"names":["React","useState","useEffect","NavBar","TransactionTable","QRCodeSVG","getBalanceOfAddress","getTransactionsOfAddress","Link","WalletPage","props","blockchain","address","setMessage","fetch","then","res","json","data","public","document","title","balance","transactions","fontSize","textAlign"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport NavBar from \"../parts/NavBar\";\nimport TransactionTable from \"../parts/TransactionTable\";\nimport { QRCodeSVG } from \"qrcode.react\";\n\nimport getBalanceOfAddress from \"../../js/getBalance\";\nimport getTransactionsOfAddress from \"../../js/getTransactions\";\nimport { Link } from \"react-router-dom\";\n\nconst WalletPage = (props) => {\n  const { blockchain } = props;\n  const [address, setMessage] = useState(\"\");\n  useEffect(() => {\n    fetch(\"/get-address\")\n      .then((res) => res.json())\n      .then((data) => setMessage(data.public));\n  }, []);\n\n  useEffect(() => {\n    document.title = \"KUChat | Wallet\"\n  })\n\n  let balance = 0;\n  let transactions = [];\n\n  balance = getBalanceOfAddress(blockchain, address);\n  transactions = getTransactionsOfAddress(blockchain, address);\n\n  return (\n    <>\n      <NavBar />\n      <main>\n        {address ? (\n          <div className=\"container\">\n            <div className=\"card address-info\">\n              <h5 className=\"card-header text-truncate\">\n                Your Info\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary\"\n                  style={{}}\n                  data-bs-toggle=\"modal\"\n                  data-bs-target=\"#exampleModal\"\n                >\n                  QR code\n                </button>\n              </h5>\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">\n                  <strong style={{ fontSize: \"large\" }}>\n                    {address === \"System\" ? <>Supply:</> : <>Balance:</>}\n                    {balance}\n                  </strong>\n                  KUC\n                </h5>\n\n                <hr />\n\n                <h5 className=\"card-title\">\n                  <strong style={{ fontSize: \"large\" }}>Address:</strong>\n                  <div class=\"text-truncate\">{address}</div>\n                </h5>\n\n                <hr />\n\n                <h5 className=\"card-title\">\n                  <strong style={{ fontSize: \"large\" }}>Transactions:</strong>\n                </h5>\n                <TransactionTable transactions={transactions} />\n              </div>\n            </div>\n\n            <div\n              className=\"modal fade\"\n              id=\"exampleModal\"\n              tabIndex=\"-1\"\n              aria-labelledby=\"exampleModalLabel\"\n              aria-hidden=\"true\"\n            >\n              <div className=\"modal-dialog modal-dialog-centered\">\n                <div className=\"modal-content\">\n                  <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                      QR code\n                    </h5>\n                    <button\n                      type=\"button\"\n                      className=\"btn-close\"\n                      data-bs-dismiss=\"modal\"\n                      aria-label=\"Close\"\n                    ></button>\n                  </div>\n                  <div className=\"modal-body\" style={{ textAlign: \"center\" }}>\n                    <QRCodeSVG value={address} />\n                  </div>\n                  <div className=\"modal-footer\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary\"\n                      data-bs-dismiss=\"modal\"\n                    >\n                      Close\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <center>\n            <h2>Please sign in or sign up.</h2>\n            <Link to=\"/signin\" className=\"btn btn-lg btn-primary mt-5\">\n              Sign in / Sign up\n            </Link>\n          </center>\n        )}\n      </main>\n    </>\n  );\n};\n\nexport default WalletPage;\n"]},"metadata":{},"sourceType":"module"}