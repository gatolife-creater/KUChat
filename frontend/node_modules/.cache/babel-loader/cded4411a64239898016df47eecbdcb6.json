{"ast":null,"code":"import _slicedToArray from\"/Users/kamei/Desktop/Programs/Blockchain Project/KUChat/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import NavBar from\"../parts/NavBar\";import TransactionTable from\"../parts/TransactionTable\";import{QRCodeSVG}from\"qrcode.react\";import getBalanceOfAddress from\"../../js/getBalance\";import getTransactionsOfAddress from\"../../js/getTransactions\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WalletPage=function WalletPage(props){var blockchain=props.blockchain;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),address=_useState2[0],setMessage=_useState2[1];useEffect(function(){fetch(\"/get-address\").then(function(res){return res.json();}).then(function(data){return setMessage(data.public);});},[]);var balance=0;var transactions=[];balance=getBalanceOfAddress(blockchain,address);transactions=getTransactionsOfAddress(blockchain,address);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"main\",{children:address?/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card address-info\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-header text-truncate\",children:[\"Your Info\",/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",style:{marginLeft:\"auto\"},\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"QR code\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[/*#__PURE__*/_jsxs(\"strong\",{style:{fontSize:\"large\"},children:[address===\"System\"?/*#__PURE__*/_jsx(_Fragment,{children:\"Supply:\"}):/*#__PURE__*/_jsx(_Fragment,{children:\"Balance:\"}),balance]}),\"KUC\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[/*#__PURE__*/_jsx(\"strong\",{style:{fontSize:\"large\"},children:\"Address:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"text-truncate\",children:address})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:/*#__PURE__*/_jsx(\"strong\",{style:{fontSize:\"large\"},children:\"Transactions:\"})}),/*#__PURE__*/_jsx(TransactionTable,{transactions:transactions})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"QR code\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(QRCodeSVG,{value:address})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"})})]})})})]}):/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Please sign in or sign up.\"}),/*#__PURE__*/_jsx(Link,{to:\"/signin\",className:\"btn btn-lg btn-primary mt-5\",children:\"Sign in / Sign up\"})]})})]});};export default WalletPage;","map":{"version":3,"sources":["/Users/kamei/Desktop/Programs/Blockchain Project/KUChat/frontend/src/components/pages/WalletPage.jsx"],"names":["React","useState","useEffect","NavBar","TransactionTable","QRCodeSVG","getBalanceOfAddress","getTransactionsOfAddress","Link","WalletPage","props","blockchain","address","setMessage","fetch","then","res","json","data","public","balance","transactions","marginLeft","fontSize","textAlign"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,2BAA7B,CACA,OAASC,SAAT,KAA0B,cAA1B,CAEA,MAAOC,CAAAA,mBAAP,KAAgC,qBAAhC,CACA,MAAOC,CAAAA,wBAAP,KAAqC,0BAArC,CACA,OAASC,IAAT,KAAqB,kBAArB,C,6IAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAE1B,GAAOC,CAAAA,UAAP,CAAqBD,KAArB,CAAOC,UAAP,CACA,cAA8BV,QAAQ,CAAC,EAAD,CAAtC,wCAAOW,OAAP,eAAgBC,UAAhB,eACAX,SAAS,CAAC,UAAI,CACVY,KAAK,CAAC,cAAD,CAAL,CACCC,IADD,CACM,SAACC,GAAD,QAAOA,CAAAA,GAAG,CAACC,IAAJ,EAAP,EADN,EAECF,IAFD,CAEM,SAACG,IAAD,QAAQL,CAAAA,UAAU,CAACK,IAAI,CAACC,MAAN,CAAlB,EAFN,EAGH,CAJQ,CAIP,EAJO,CAAT,CAMA,GAAIC,CAAAA,OAAO,CAAG,CAAd,CACA,GAAIC,CAAAA,YAAY,CAAG,EAAnB,CAEAD,OAAO,CAAGd,mBAAmB,CAACK,UAAD,CAAaC,OAAb,CAA7B,CACAS,YAAY,CAAGd,wBAAwB,CAACI,UAAD,CAAaC,OAAb,CAAvC,CAEA,mBACI,wCACI,KAAC,MAAD,IADJ,cAEI,sBACKA,OAAO,cACI,aAAK,SAAS,CAAC,WAAf,wBACI,aAAK,SAAS,CAAC,mBAAf,wBACI,YAAI,SAAS,CAAC,2BAAd,oCAEI,YAAK,SAAS,CAAC,YAAf,uBACA,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,CAAkD,KAAK,CAAE,CAACU,UAAU,CAAC,MAAZ,CAAzD,CAA8E,iBAAe,OAA7F,CAAqG,iBAAe,eAApH,qBADA,EAFJ,GADJ,cASI,aAAK,SAAS,CAAC,WAAf,wBACI,YAAI,SAAS,CAAC,YAAd,wBACI,gBAAQ,KAAK,CAAE,CAACC,QAAQ,CAAE,OAAX,CAAf,WACKX,OAAO,GAAK,QAAZ,cAAuB,oCAAvB,cACuB,qCAF5B,CAG2BQ,OAH3B,GADJ,SADJ,cASI,aATJ,cAWI,YAAI,SAAS,CAAC,YAAd,wBACI,eAAQ,KAAK,CAAE,CAACG,QAAQ,CAAC,OAAV,CAAf,sBADJ,cAII,YAAK,KAAK,CAAC,eAAX,UAA4BX,OAA5B,EAJJ,GAXJ,cAkBI,aAlBJ,cAoBI,WAAI,SAAS,CAAC,YAAd,uBACI,eAAQ,KAAK,CAAE,CAACW,QAAQ,CAAC,OAAV,CAAf,2BADJ,EApBJ,cAyBI,KAAC,gBAAD,EAAkB,YAAY,CAAEF,YAAhC,EAzBJ,GATJ,GADJ,cAuCI,YAAK,SAAS,CAAC,YAAf,CAA4B,EAAE,CAAC,cAA/B,CAA8C,QAAQ,CAAC,IAAvD,CAA4D,kBAAgB,mBAA5E,CAAgG,cAAY,MAA5G,uBACI,YAAK,SAAS,CAAC,oCAAf,uBACI,aAAK,SAAS,CAAC,eAAf,wBACI,aAAK,SAAS,CAAC,cAAf,wBACI,WAAI,SAAS,CAAC,aAAd,CAA4B,EAAE,CAAC,mBAA/B,qBADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,WAAhC,CAA4C,kBAAgB,OAA5D,CAAoE,aAAW,OAA/E,EAFJ,GADJ,cAKI,YAAK,SAAS,CAAC,YAAf,CAA4B,KAAK,CAAE,CAACG,SAAS,CAAC,QAAX,CAAnC,uBACI,KAAC,SAAD,EAAW,KAAK,CAAEZ,OAAlB,EADJ,EALJ,cAQI,YAAK,SAAS,CAAC,cAAf,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mBAAhC,CAAoD,kBAAgB,OAApE,mBADJ,EARJ,GADJ,EADJ,EAvCJ,GADJ,cAyDI,uCACI,kDADJ,cAEI,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,SAAS,CAAC,6BAA7B,+BAFJ,GA1DhB,EAFJ,GADJ,CAsFH,CAtGD,CAwGA,cAAeH,CAAAA,UAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\n\nimport NavBar from \"../parts/NavBar\";\nimport TransactionTable from \"../parts/TransactionTable\";\nimport { QRCodeSVG } from \"qrcode.react\";\n\nimport getBalanceOfAddress from \"../../js/getBalance\";\nimport getTransactionsOfAddress from \"../../js/getTransactions\";\nimport { Link } from \"react-router-dom\";\n\nconst WalletPage = (props) => {\n\n    const {blockchain} = props;\n    const [address, setMessage] = useState(\"\");\n    useEffect(()=>{\n        fetch(\"/get-address\")\n        .then((res)=>res.json())\n        .then((data)=>setMessage(data.public));\n    },[])\n    \n    let balance = 0;\n    let transactions = [];\n\n    balance = getBalanceOfAddress(blockchain, address);\n    transactions = getTransactionsOfAddress(blockchain, address);\n\n    return (\n        <>\n            <NavBar/>\n            <main>\n                {address? \n                            <div className=\"container\">\n                                <div className=\"card address-info\">\n                                    <h5 className=\"card-header text-truncate\">\n                                        Your Info \n                                        <div className=\"text-right\">\n                                        <button type=\"button\" className=\"btn btn-primary\" style={{marginLeft:\"auto\"}} data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n                                            QR code\n                                        </button>\n                                        </div>\n                                    </h5>\n                                    <div className=\"card-body\">\n                                        <h5 className=\"card-title\">\n                                            <strong style={{fontSize: \"large\"}}>\n                                                {address === \"System\" ? <>Supply:</> \n                                                                      : <>Balance:</> } \n                                                                      {balance} \n                                            </strong>KUC\n                                        </h5>\n\n                                        <hr />\n\n                                        <h5 className=\"card-title\">\n                                            <strong style={{fontSize:\"large\"}}>\n                                                    Address:\n                                            </strong>\n                                            <div class=\"text-truncate\">{address}</div>\n                                        </h5>\n\n                                        <hr />\n\n                                        <h5 className=\"card-title\">\n                                            <strong style={{fontSize:\"large\"}}>\n                                                Transactions:\n                                            </strong>\n                                        </h5>\n                                        <TransactionTable transactions={transactions}/>\n                                    </div>\n                                </div>\n\n                                <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                                    <div className=\"modal-dialog modal-dialog-centered\">\n                                        <div className=\"modal-content\">\n                                            <div className=\"modal-header\">\n                                                <h5 className=\"modal-title\" id=\"exampleModalLabel\">QR code</h5>\n                                                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                                            </div>\n                                            <div className=\"modal-body\" style={{textAlign:\"center\"}}>\n                                                <QRCodeSVG value={address}/>\n                                            </div>\n                                            <div className=\"modal-footer\">\n                                                <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        :   <center>\n                                <h2>Please sign in or sign up.</h2>\n                                <Link to=\"/signin\" className=\"btn btn-lg btn-primary mt-5\">Sign in / Sign up</Link>\n                            </center>  \n                            }\n\n                    {/* <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                        <div className=\"modal-dialog modal-dialog-centered\">\n                            <div className=\"modal-content\">\n                                <div className=\"modal-header\">\n                                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">QR Code</h5>\n                                    <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                                </div>\n                                <div className=\"modal-body\" style={{textAlign:\"center\"}}>\n                                    <QRCodeSVG value={address}/>\n                                </div>\n                                <div className=\"modal-footer\">\n                                    <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div> */}\n            </main>\n        </>\n    )\n}\n\nexport default WalletPage;"]},"metadata":{},"sourceType":"module"}